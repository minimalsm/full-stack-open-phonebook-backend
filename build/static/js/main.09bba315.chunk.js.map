{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Person.js","services/persons.js","components/People.js","components/Notification.js","components/ErrorMessage.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","addPerson","nameValue","onNameChange","numberValue","onNumberChange","onSubmit","type","Person","person","name","number","baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","People","people","setPersons","setErrorMessage","map","i","key","onClick","window","confirm","personService","filter","catch","error","setTimeout","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","ErrorMessage","App","useState","persons","newName","setNewName","newNumber","setNewNumber","filterName","setFilterName","notification","setNotification","errorMessage","useEffect","initialPersons","peopleToShow","p","toLowerCase","includes","e","target","preventDefault","some","find","returnedPerson","concat","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.09bba315.chunk.js","sourcesContent":["import React from 'react'\n\nconst Filter = ({ value, onChange}) => {\n  return (\n    <div>\n      search\n        <input\n          value={value}\n          onChange={onChange}\n        />\n    </div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({addPerson, nameValue, onNameChange, numberValue, onNumberChange}) => {\n  return (\n    <div>\n      <form onSubmit={addPerson}>\n        <div>\n          name:  \n          <input \n            value={nameValue}\n            onChange={onNameChange}\n          />\n          number:  \n          <input \n            value={numberValue}\n            onChange={onNumberChange}\n          />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n    </div>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Person = ({ person }) => {\n  return (\n    <>\n     {person.name} {person.number}\n    </>\n  )\n }\n\n export default Person","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst removePerson = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update, removePerson }","import React from 'react'\nimport Person from './Person'\nimport personService from '../services/persons'\n\n\nconst People = ({ people, setPersons, setErrorMessage }) => {\n\n  const handleRemovePerson = (id) => {  \n    if (window.confirm('Are you sure?')) {\n      personService\n      .removePerson(id)\n      .then(data => {\n        setPersons(people.filter(person => person.id !== id))\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Person was already removed from server`\n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setPersons(people.filter(person => person.id !== id))\n      }\n      )\n    }\n  }\n\n\n  return (\n    <>\n      {people.map((person, i)=> \n        <div key={i}>\n          <Person \n            person={person}\n          />\n          <button onClick={() => {handleRemovePerson(person.id);}}>\n            delete\n          </button>\n        </div>\n        )}\n    </>\n  )\n}\n\n\n\nexport default People","import React from 'react'\n\nconst Notification = ({ message }) => {\n\n  const notification = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n\n    <div style={notification}>\n      {message}\n    </div>\n  )\n\n}\n\nexport default Notification","import React from 'react'\n\nconst ErrorMessage = ({ message }) => {\n\n  const errorMessage = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n\n  if (message === null) {\n    return null\n  }\n\n  return (\n\n    <div style={errorMessage}>\n      {message}\n    </div>\n  )\n\n}\n\nexport default ErrorMessage","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport People from './components/People'\nimport Notification from './components/Notification'\nimport ErrorMessage from './components/ErrorMessage'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ filterName, setFilterName ] = useState('')\n  const [ notification, setNotification ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n\n  const handleNewName = (e) => {\n    setNewName(e.target.value)\n  }\n\n  const handleNewNumber = (e) => {\n    setNewNumber(e.target.value)\n  }\n\n  const handleNewSearch = (e) => {\n    setFilterName(e.target.value)\n  }\n\n  const isDuplicate = () => persons.some(person => person.name === newName)\n  \n\n  const addPerson = (e) => {\n    e.preventDefault()\n    const person = {\n      name: newName,\n      number: newNumber\n    }\n\n    //test\n    \n    if (isDuplicate()) {\n      const replaceNumber = window.confirm(`${newName} is already added to phonebook, replace the old number with the new one?`)\n      \n      if (replaceNumber) {\n      const duplicatePerson = persons.find(p => p.name === newName)\n      const id = duplicatePerson.id\n\n      personService\n      .update(id, person)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id === id ? returnedPerson : person))\n        setNewName('')\n        setNewNumber('')\n        setNotification(\n          `The number for ${person.name} was changed`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })}\n    } else {  \n      personService\n      .create(person)\n      .then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson))\n        setNewName('')\n        setNewNumber('')\n        setNotification(\n          `Person ${person.name} was added to the phonebook`\n        )\n        setTimeout(() => {\n          setNotification(null)\n        }, 5000)\n      })\n    }\n  }\n\n  const peopleToShow = !filterName ? persons : persons.filter(p => p.name.toLowerCase().includes(filterName.toLowerCase()))\n\n  return (\n    <div>\n      <h2>Search the phonebook</h2>\n      <Notification message={notification}/>\n      <ErrorMessage message={errorMessage} />\n      <Filter \n        value={filterName} \n        onChange={handleNewSearch}\n      />\n      \n      <h2>Phonebook</h2>\n      <PersonForm \n        addPerson={addPerson} \n        nameValue={newName} \n        onNameChange={handleNewName} \n        numberValue={newNumber}\n        onNumberChange={handleNewNumber}\n      />\n\n      <h2>Numbers</h2>\n      <People \n        people={peopleToShow} \n        setPersons={setPersons}\n        setErrorMessage={setErrorMessage}\n      />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}